from collections.abc import Iterable
from typing import Any, Generic
from caterpillar.abc import (
    _OT,
    _IT,
    _ArchLike,
    _EndianLike,
    _SupportsSetEndian,
    _ContextLike,
)

BIG_ENDIAN: c_Endian
HOST_ARCH: c_Arch
LITTLE_ENDIAN: c_Endian
NATIVE_ENDIAN: c_Endian

class c_Arch(_ArchLike):
    name: str
    ptr_size: int
    def __init__(self, name: str, ptr_size: int) -> None: ...
    def __eq__(self, other: object) -> bool: ...
    def __ge__(self, other: object) -> bool: ...
    def __gt__(self, other: object) -> bool: ...
    def __hash__(self) -> int: ...
    def __le__(self, other: object) -> bool: ...
    def __lt__(self, other: object) -> bool: ...
    def __ne__(self, other: object) -> bool: ...

class c_Endian(_EndianLike):
    ch: str
    name: str
    def __init__(self, name: str, ch: int) -> None: ...
    def __add__(self, other: _SupportsSetEndian[_OT]) -> _OT: ...
    def __eq__(self, other: object) -> bool: ...
    def __ge__(self, other: object) -> bool: ...
    def __gt__(self, other: object) -> bool: ...
    def __hash__(self) -> int: ...
    def __le__(self, other: object) -> bool: ...
    def __lt__(self, other: object) -> bool: ...
    def __ne__(self, other: object) -> bool: ...
    def __radd__(self, other: _SupportsSetEndian[_OT]) -> _OT: ...

class c_Option:
    name: str
    value: Any
    def __init__(self, name: str, value: Any = ...) -> None: ...
    def __eq__(self, value: object | c_Option, /) -> bool: ...
    def __hash__(self) -> int: ...

class c_Context(dict, _ContextLike):
    def __init__(self, **kwargs) -> None: ...

class LengthInfo:
    length: int
    greedy: bool
    def __init__(self, length: int = ..., greedy: bool = ...) -> None: ...

class Atom(Generic[_IT, _OT]):
    def __pack__(self, obj: _IT, context: _ContextLike) -> None: ...
    def __pack_many__(
        self,
        obj: Iterable[_IT],
        context: _ContextLike,
        lengthinfo: LengthInfo,
    ) -> None: ...
    def __unpack__(self, context: _ContextLike) -> _OT: ...
    def __unpack_many__(
        self,
        context: _ContextLike,
        lengthinfo: LengthInfo,
    ) -> Iterable[_OT]: ...
    def __type__(self) -> type | str | None: ...
    def __size__(self, context: _ContextLike) -> int: ...
    def __bits__(self) -> int: ...

__all__ = [
    "c_Arch",
    "c_Endian",
    "c_Option",
    "c_Context",
    "BIG_ENDIAN",
    "HOST_ARCH",
    "LITTLE_ENDIAN",
    "NATIVE_ENDIAN",
    "Atom",
    "LengthInfo",
]
