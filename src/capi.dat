# Caterpillar C API
#
# All types and API functions are described in this file. They are used to
# generate the Caterpillar C API headers and to build the documentation.
#
# modified format from sphinx documentation
# see https://github.com/python/cpython/blob/main/Doc/data/refcounts.dat
#
# There are currently four different types of statements:
#
#   type:INDEX:STRUCT_NAME:TYPEDEF_NAME:CAPI_TYPE_NAME
#       Defines a C API type for a C structure. The index is optional and
#       the CAPI_TYPE_NAME will add an extra macro to the header file.
#
#   obj:INDEX:NAME:TYPE
#       Defines a C API object.
#
#   func:INDEX:NAME:RETURN_TYPE:REFCOUNT
#       Defines a C API function. The function must be present within the
#       source set of this file.
#
#   src:FILE
#       Defines the source file (relative to this file) that contains the
#       function definitions.

src:ccaterpillar/arch.c

# First index is reserved for the global module reference
obj:0:CpModule:PyModuleDef

type:-:_modulestate:_modulestate:-

# CpArch API
type:1:_archobj:CpArchObject:c_Arch
func:-:CpArch_New:PyObject*:+1
func:-:CpArch_GetName:PyObject*:+1
func:-:CpArch_GetPtrSize:int:null

# CpEndian API
type:2:_endianobj:CpEndianObject:c_Endian
func:-:CpEndian_GetName:PyObject*:+1
func:-:CpEndian_GetId:char:null
func:3:CpEndian_IsLittleEndian:int:null
